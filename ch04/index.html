<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <title>D3 Page</title>
        <script type="text/javascript" src="../d3.js"></script> <!--Load d3 file here -->
    </head>

    <body>

        <script type="text/javascript">
            // var b = d3.select("body");   // select() returns a reference 
            // var c = b.append("p");       // append() adds new element inside select ref ele; returns own ref to added ele
            // c.text("Is it working");     // text() inserts string inside current selection
        </script>

       <script type="text/javascript">

            var dataset; // global variable, initially empty (undefined)
            

            var rowConverter = function(d){
                return {
                    Food : d.Food, // No conversion
                    Deliciousness : parseFloat(d.Deliciousness) // parse as a Float
                };
            };

            d3.csv("food.csv", rowConverter, function(error, data){
                if (error) { // if error is not null
                    console.log(error); // Log the error

                } else {    // if no error, the file loaded correctly. Yay!
                    // console.log(data);  // Log the data
                };

                // dataset = data; // Once loaded, copy to dataset variable
                // Include other code to execute after successful file load here
                // console.log(data);
                // generateVisualization();
                // makeAwesomeCharts();
                // makeEvenAwesomerCharts();
                // thankAwardsCommittee();
                });
                
       </script>

       <script>
            var dataset = [5,10,15,20,25];         // The data  
            d3.select("body").selectAll("p")    // A Selection of DOM elements,(empty selection)
            .data(dataset)    // Bind data to DOM elements (empty), subsequent code run for each data element (datum)
            // after binding data to selection, the following code is looped, for each dataum in bound data
            .enter()        // creates required number of placeholder elements to equal number of data elements
            .append("p")  // takes placeholder elements and appends a p element to the DOM (just inside body)
            .text(function(d){
                return " I can count up to" + d;
                  // concatenating d to string as input to text()
                })         // Insert text for each of the elements
            //.style("color", "red");
            .style("color", function(d){
                if (d > 15){ // Theshold of 15
                    return "red"
                } else {
                    return "black";
                }
            });

            // d3.enter() connects the bound data to the element selection, making up any shortfall for .append() 
            // so in the code above we have a paragraph tag for each value in dataset
       
       </script>
    
    </body>

</html>